version: '3.8'

services:
  log-monitor:
    build: .
    container_name: log-monitor
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock  
    environment:
      TOKEN: "123456789:ABCDEF...."
      CONTAINER_NAME: "executor-release-executor-1"
      KEYWORDS: "ERROR,WARNING,warn"
      SUCCESS_PATTERNS: >
        {"msg":"âœ… Bid successful","msg":"ğŸ“¦ï¸ âœ… Tx batch item successful.","msg":"ğŸ“ğŸ‹ Rejection reason: Potential profit is negative",
        "msg":"ğŸ”ƒğŸ† No pending orders to Bid","msg":"ğŸ‘©â€âš–ï¸ğŸ¦‘ Pending orders rejected","msg":"ğŸ“ğŸ¥” Potential profit is negative. Skip order",
        "msg":"ğŸŠğŸ§© Transmitter estimate failed due to BD#10"}
    restart: unless-stopped